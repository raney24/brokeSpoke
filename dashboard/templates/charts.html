{% extends 'base.html' %}
{% block content %}
{% load static %}
{% load crispy_forms_tags %}


<head>
    <link rel="stylesheet" href="{% static 'css/charts.css' %}">
</head>

<h1 class="charts-title"> <i class="fas fa-chart-bar"></i>
    Statistics
</h1>
<div class="charts-block">


    <form class="btn-lg " action="{% url 'generate-mailing-list' %}" method="POST">
        {% csrf_token %} <button class="btn btn-secondary " id="generate-email-request" type="submit">Generate mailing
            list</button>
    </form>
    <hr>
    <button class="btn-lg" data-toggle="modal" data-target="#changeWageModal">Change Wages</button>

</div>


<div class="report-block">
    <hr>
    <h3>Large Report</h3>
    <p> Generates report containing multiple sheets including information on
        sweat equity negative balances, bike purchases by volunteer,
        sweat equity purchases over qt. 2, and key metrics.
    </p>
    <form class="btn-lg " action="{% url 'generate-report' %}" method="POST">
        {% csrf_token %} <button class="btn btn-secondary " id="generate-report" type="submit">Generate Report
            list</button>
    </form>
    <hr>
    <h3>Hours Tracker</h3>
    <p> Generates report to keep track of shop hours by category for a user defined period
    </p>
    <form class="btn-lg " action="{% url 'hours-report' %}" method="POST" autocomplete="off">
        {% csrf_token %} <button class="btn btn-secondary " id="generate-report" type="submit">Generate Hours
            Report</button>
        <p> {{ hoursForm.startDate|as_crispy_field }}
        </p>
        <p> {{ hoursForm.endDate|as_crispy_field }}
        </p>
    </form>
    <hr>
    <h3>Login Tracker</h3>
    <p> Generates report to keep track of unique and total logins
    </p>
    <form class="btn-lg " action="{% url 'login-report' %}" method="POST" autocomplete="off">
        {% csrf_token %} <button class="btn btn-secondary " id="generate-report" type="submit">Generate Hours
            Report</button>
        <p> {{ loginForm.startDate|as_crispy_field }}
        </p>
        <p> {{ loginForm.endDate|as_crispy_field }}
        </p>
    </form>
    <hr>
    <h3>Custom Sheets</h3>
    <p> Generates report based on custom inputs
    </p>
    <form class="btn-lg " action="{% url 'user-report' %}" method="POST" autocomplete="off">
        {% csrf_token %} <button class="btn btn-secondary " id="user-generate-report" type="submit" disabled>Generate User
            Report</button>
        <div class="autocomplete">
            <p> {{ userForm.person|as_crispy_field }}
            </p>
          </div>

          <datalist id="potentials">
          </datalist>
        <p> {{ userForm.startDate|as_crispy_field }}
        </p>
        <p> {{ userForm.endDate|as_crispy_field }}
        </p>
    </form>
</div>



<div class="modal fade" id="changeWageModal" tabindex="-1" role="dialog" aria-labelledby="changeWageModalTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="changeWageModalLongTitle">Change Wages</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                </button>
            </div>
            <div class="modal-body">
                <form method="POST" autocomplete="off">
                    {% csrf_token %}
                    <p> {{ form.sweatEquity|as_crispy_field }}
                    </p>
                    <p> {{ form.standTime|as_crispy_field }}
                    </p>
                    <p> {{ form.volunteerTime|as_crispy_field }}
                    </p>
            </div>
            <div class="modal-footer form-horizontal">
                <button type="button" id="footer-cancel" class="btn btn-secondary" data-dismiss="modal">Close</button>

                <button class="btn btn-secondary " id="footer-changeWage" type="submit">Set Wages</button>

            </div>
        </div>
    </div>
</div>
{% endblock %}